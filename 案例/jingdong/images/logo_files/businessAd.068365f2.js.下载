!function(e){function t(t){for(var i,a,s=t[0],c=t[1],u=t[2],l=0,p=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(d&&d(t);p.length;)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={businessAd:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(){return Promise.resolve()},a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://nd-static.bdstatic.com/business-static/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=c;r.push([10,"vendor-source","chunk-vendors","chunk-common"]),n()}({10:function(e,t,n){e.exports=n("4cf6")},2619:function(e){e.exports=JSON.parse('{"web_business_ad_click_qrcode":{"logType":"count","value":"广告点击_二维码"},"web_business_ad_click_link":{"logType":"count","value":"广告点击_链接"},"web_business_ad_first_click_qrcode":{"logType":"count","value":"广告第一次点击_二维码"},"web_business_ad_first_click_link":{"logType":"count","value":"广告第一次点击_链接"},"web_business_ad_close_qrcode":{"logType":"count","value":"广告关闭二维码"},"web_business_ad_show":{"logType":"count","value":"广告展示"},"web_business_ad_no_unitid":{"logType":"count","value":"广告未获取到unitid"}}')},"2dfe":function(e,t,n){},"4cf6":function(e,t,n){"use strict";n.r(t),n("19d6"),n("59e8"),n("8071"),n("0029");var i=n("bae1"),o=(n("8594"),n("aba3")),r=n.n(o),a=(n("2936"),n("e893"),n("071f"),n("5e76"),n("58b2")),s=n("aa37"),c=(n("f2c5"),n("a2f5")),u=(n("d7c1"),n("a463"),n("c670")),d=n.n(u),l=n("4612"),p=n("e752"),f=n("c84f"),h=n("71af"),g=n.n(h);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={name:"business-ad",data:function(){var e,t;return{useCanvas:+Object(f.u)("useCanvas")||+Object(f.u)("useCanvas",window.parent)||0,isFirstClick:!0,isDefault:!1,adLogParam:{},allAdConfig:null,currentExpName:(null===(e=window.yunData)||void 0===e||null===(t=e.expData)||void 0===t?void 0:t.expName)||"ad_conf_default",currentExpConfig:null,currentDynamicColor:null,qrcodeContent:null,qrcodeShow:!1,qrcodePositionTop:"0px",qrcodePositionLeft:"0px",videoTimeUpdateTimer:null}},created:function(){var e=this;this.getAdConfig(),window.addEventListener("message",(function(t){"business-ad-click"===t.data.type&&e.goAdGuide()}))},beforeDestroy:function(){window.removeEventListener("resize",this.videoResize,!1)},methods:{getAdConfig:function(){var e=this;Object(l.g)().then((function(t){try{e.allAdConfig=t.data[0].conf_value,e.initAd()}catch(e){}}))},initAd:function(){this.currentExpName=Object(f.u)("businessAdType")||Object(f.u)("businessAdType",window.parent)||this.currentExpName,this.allAdConfig[this.currentExpName]||(this.currentExpName="ad_conf_default");var e=JSON.parse(this.allAdConfig[this.currentExpName]||this.allAdConfig.default);if(this.currentExpConfig=e,this.currentExpConfig){this.postParentMessage("init"),"lottie"===this.currentExpConfig.adShowType&&this.initLottieAd(this.currentExpConfig.lottie),"video"===this.currentExpConfig.adShowType&&this.initVideoAd(this.currentExpConfig);try{var t;this.adLogParam={adName:this.currentExpName,config:JSON.stringify(this.currentExpConfig),from:Object(f.u)("from"),space:Object(f.u)("pathname"),adPage:(null===(t=window.parent.location)||void 0===t?void 0:t.pathname)||"none"},this.$Wplog.bpLog({name:"web_business_ad_show",value:this.adLogParam}),this.mzLog("pageview"),this.adAnalyticsLog("pageview")}catch(e){}}},initLottieAd:function(e){var t=this;Object(l.h)({fileName:decodeURIComponent(e)}).then((function(e){"[object Object]"===Object.prototype.toString.call(e)&&t.$nextTick((function(){var n={container:t.$refs.adLottie,renderer:"svg",loop:!0,autoplay:!0,animationData:e};d.a.loadAnimation(n)}))})).catch((function(e){}))},initVideoAd:function(e){var t=this;this.$nextTick((function(){try{if(t.useCanvas&&e["MPEG2-TS"])return void new window.JSMpeg.Player(e["MPEG2-TS"],{canvas:t.$refs.adVideoCanvas,autoplay:!0,throttled:!1,chunkSize:4194304,progressive:!1,loop:!0,audio:!1,pauseWhenHidden:!1,onPlay:function(){setTimeout((function(){t.$refs.adVideoCanvas.style.zIndex=0}),300)}});var n=t.$refs.adVideo,i=e.video;n.addEventListener("loadedmetadata",t.videoResize,!1),n.addEventListener("canplay",(function(){n.style.zIndex=0,n.play()})),window.addEventListener("resize",t.videoResize,!1),i.forEach((function(e){var t=document.createElement("source");for(var i in e){if(!Object.hasOwnProperty.call(e,i))break;t.setAttribute(i,e[i])}n.appendChild(t)}))}catch(e){}}))},videoResize:function(){try{if("object-fit"in document.body.style)return;var e=this.$refs.adVideo,t=e.videoWidth,n=e.videoHeight,i=(t/n).toFixed(2),o=window.getComputedStyle(document.querySelector("body")),r=parseInt(o.getPropertyValue("width"),10),a=parseInt(o.getPropertyValue("height"),10);if("border-box"!==o.getPropertyValue("box-sizing")){var s=parseInt(o.getPropertyValue("padding-top"),10),c=parseInt(o.getPropertyValue("padding-bottom"),10);r+=parseInt(o.getPropertyValue("padding-left"),10)+parseInt(o.getPropertyValue("padding-right"),10),a+=s+c}var u=0,d=0;r/t>a/n?(u=r,d=Math.ceil(u/i)):(d=a,u=Math.ceil(d*i)),e.style.width=u+"px",e.style.height=d+"px"}catch(e){}},goAdGuide:function(e){try{this.$Wplog.bpLog({name:"web_business_ad_click_".concat(this.currentExpConfig.adClickType),value:this.adLogParam}),this.isFirstClick&&(this.$Wplog.bpLog({name:"web_business_ad_first_click_".concat(this.currentExpConfig.adClickType),value:this.adLogParam}),this.isFirstClick=!1),this.mzLog("click"),this.adAnalyticsLog("click")}catch(e){}return"link"===this.currentExpConfig.adClickType?window.open(decodeURIComponent(this.currentExpConfig.adClickHref)):"qrcode"===this.currentExpConfig.adClickType?this.showQrcode(e):void 0},showQrcode:function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientX-110,i=t.clientY-119,n<455&&(n=455),n>window.innerWidth-220&&(n=window.innerWidth-220),i<0&&(i=15),i>window.innerHeight-238&&(i=window.innerHeight-238-40),e.prev=11,e.next=14,g.a.toDataURL(decodeURIComponent(this.currentExpConfig.adClickHref),{margin:2});case 14:this.qrcodeContent=e.sent,this.qrcodePositionTop=i+"px",this.qrcodePositionLeft=n+"px",this.qrcodeShow=!0,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11);case 23:case"end":return e.stop()}}),e,this,[[11,20]])})));return function(t){return e.apply(this,arguments)}}(),closeQrcode:function(){this.qrcodeShow=!1;try{this.$Wplog.bpLog({name:"web_business_ad_close_qrcode",value:this.adLogParam})}catch(e){}},handleVideoTimeUpdate:function(e){var t=Math.floor(e.target.currentTime),n=this.currentExpConfig.dynamicColor;if(n&&n[t]){var i=n[t];if(JSON.stringify(this.currentDynamicColor)===JSON.stringify(i))return;this.currentDynamicColor=i,this.postParentMessage("dynamicColor",i)}},mzLog:function(e){var t,n;try{var i;if(null===(i=this.currentExpConfig)||void 0===i||!i.mzConfig||"object"!==Object(s.a)(this.currentExpConfig.mzConfig))return;switch(e){case"pageview":this.sendLog(null===(t=this.currentExpConfig.mzConfig)||void 0===t?void 0:t.impUrl);break;case"click":this.sendLog(null===(n=this.currentExpConfig.mzConfig)||void 0===n?void 0:n.clickUrl)}}catch(e){}},adAnalyticsLog:function(e){var t,n,i,o;null!==(t=window.yunData)&&void 0!==t&&null!==(n=t.expData)&&void 0!==n&&n.unitId||this.$Wplog.bpLog({name:"web_business_ad_no_unitid",value:y(y({},this.adLogParam),{},{e:e})});var r=null===(i=window.parent)||void 0===i||null===(o=i.location)||void 0===o?void 0:o.pathname,a=this.currentExpName+("ad_conf_default"===this.currentExpName&&Object(f.u)("pathname")||""),s="".concat(p.a.getAdAnalytics,"?from=").concat(r,"&id=").concat(a,"&event=");try{switch(e){case"pageview":this.sendLog(s+"dis");break;case"click":this.sendLog(s+"clk")}}catch(e){}},sendLog:function(e){e&&((new Image).src=e+(e.includes("?")?"&":"?")+"ad_t="+Date.now())},postParentMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"init"===e?window.parent.postMessage({type:"ad",name:this.isDefault?"ad_conf_default":this.currentExpName,data:this.currentExpConfig},"*"):"dynamicColor"===e&&window.parent.postMessage({type:"dynamicColor",data:t},"*")}}},b=w,m=(n("71b9"),n("f292")),_=Object(m.a)(b,(function(){var e=this,t=e._self._c;return e.currentExpConfig&&e.currentExpConfig.bg?t("div",{staticClass:"mainContent",style:{cursor:"none"===e.currentExpConfig.adClickType?"default":"pointer",backgroundImage:"url(".concat(e.currentExpConfig.bg,")"),backgroundSize:"cover"},on:{click:e.goAdGuide}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.currentExpConfig&&"lottie"===e.currentExpConfig.adShowType,expression:"currentExpConfig && currentExpConfig.adShowType === 'lottie'"}],ref:"adLottie",staticClass:"adLottie"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.currentExpConfig&&"video"===e.currentExpConfig.adShowType,expression:"currentExpConfig && currentExpConfig.adShowType === 'video'"}]},[e.useCanvas&&e.currentExpConfig["MPEG2-TS"]?t("canvas",{ref:"adVideoCanvas",staticClass:"adVideoCanvas"}):t("video",{ref:"adVideo",staticClass:"adVideo",attrs:{loop:"",muted:"",playsinline:"","mtt-playsinline":"true","webkit-playsinline":"true","x5-video-player-type":"h5-page"},domProps:{muted:!0},on:{timeupdate:e.handleVideoTimeUpdate}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.qrcodeShow,expression:"qrcodeShow"}],staticClass:"qrcodeWrap",style:{top:e.qrcodePositionTop,left:e.qrcodePositionLeft}},[t("div",{staticClass:"yun"}),t("div",{staticClass:"close",on:{click:function(t){return t.stopPropagation(),e.closeQrcode.apply(null,arguments)}}}),t("div",{staticClass:"title"},[e._v("\n            "+e._s(e.currentExpConfig.qrcodeTitle)+"\n        ")]),t("img",{ref:"qrcode",staticClass:"qrcode",attrs:{src:e.qrcodeContent}}),t("div",{staticClass:"desc"},[e._v("\n            "+e._s(e.currentExpConfig.qrcodeDesc)+"\n        ")])])]):e._e()}),[],!1,null,null,null),C=_.exports,x=n("2619");i.a.use(r.a,x,{protocol:"https://",host:""+(window.host&&window.host.HOST_PAN||"pan.baidu.com"),url:"/api/analytics",clienttype:5,page:1}),window.globalVue=new i.a({render:function(e){return e(C)}}).$mount("#app")},"71b9":function(e,t,n){"use strict";n("2dfe")},c813:function(e,t,n){"use strict";var i={single_source_shortest_paths:function(e,t,n){var o={},r={};r[t]=0;var a,s,c,u,d,l,p,f=i.PriorityQueue.make();for(f.push(t,0);!f.empty();)for(c in s=(a=f.pop()).value,u=a.cost,d=e[s]||{})d.hasOwnProperty(c)&&(l=u+d[c],p=r[c],(void 0===r[c]||p>l)&&(r[c]=l,f.push(c,l),o[c]=s));if(void 0!==n&&void 0===r[n]){var h=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(h)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],i=t;i;)n.push(i),e[i],i=e[i];return n.reverse(),n},find_path:function(e,t,n){var o=i.single_source_shortest_paths(e,t,n);return i.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(e){var t,n=i.PriorityQueue,o={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(o[t]=n[t]);return o.queue=[],o.sorter=e.sorter||n.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=i}});